!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactReorderable=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(n){"use strict";function r(e){for(;e;){if(e.className&&e.className.indexOf("react-reorderable-item")>=0)return e;e=e.parentNode}return null}function o(e){var t=e.touches&&e.touches[0]||e;return{clientX:t.clientX,clientY:t.clientY}}function i(e,t){var n=t.getBoundingClientRect(),r=n.top,i=n.left,a=n.width,s=n.height,l=o(e);return l.clientY<r||l.clientY>r+s?m.NONE:l.clientX>i&&l.clientX<i+.5*a?m.NEXT:l.clientX>i+.5*a&&l.clientX<i+a?m.PREVIOUS:m.NONE}function a(e,t){var n=t.getBoundingClientRect(),r=n.top,i=n.left,a=n.width,s=n.height,l=o(e);return l.clientX<i||l.clientX>i+a?m.NONE:l.clientY>r&&l.clientY<r+.5*s?m.NEXT:l.clientY>r+.5*s&&l.clientY<r+s?m.PREVIOUS:m.NONE}function s(e,t,n){var r,o=t.parentNode,s=o.children,l=!1,c={};n=n||"list";for(var u=0;u<s.length&&!l;u+=1)if(r=s[u],r.getAttribute("data-reorderable-key")!==t.getAttribute("data-reorderable-key")){var d;if(d="list"===n?a(e,r):i(e,r),d!==m.NONE)return c.node=r,c.type=d,c}return c}function l(e){for(var t,n="node-",r={},o=[],i=0;i<e.length;i+=1){var t=n+(i+1);o.push(t),e[i]=d.createElement("div",{className:"react-reorderable-item",key:t,"data-reorderable-key":t},e[i]),r[t]=e[i]}return{map:r,ids:o}}function c(e,t){for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r+=1)if(e===n[r])return!0;return!1}function u(e,t,n){var r=e.getAttribute("data-reorderable-key"),o=n.indexOf(r);n.splice(o,1);var i=t.node.getAttribute("data-reorderable-key"),a=n.indexOf(i);return t.type===m.PREVIOUS?n.splice(a+1,0,r):n.splice(a,0,r),n}var d="undefined"!=typeof window?window.React:"undefined"!=typeof n?n.React:null,f=("undefined"!=typeof window?window.ReactDOM:"undefined"!=typeof n?n.ReactDOM:null).findDOMNode,p="undefined"!=typeof window?window.ReactDrag:"undefined"!=typeof n?n.ReactDrag:null,h=e("create-react-class"),v=e("prop-types"),m={NONE:0,NEXT:1,PREVIOUS:2},g=h({componentWillMount:function(){window.addEventListener("mouseup",this._mouseupHandler=function(){this.setState({mouseDownPosition:null})}.bind(this))},componentWillUnmount:function(){window.removeEventListener("mouseup",this._mouseupHandler)},componentWillReceiveProps:function(e){if(e.children){var t=l(e.children);this.setState({order:t.ids,reorderableMap:t.map})}},getInitialState:function(){var e=l(this.props.children);return{order:e.ids,startPosition:null,activeItem:null,reorderableMap:e.map}},onDragStop:function(e){this.setState({activeItem:null,startPosition:null}),this.props.onDrop(this.state.order.map(function(e){return this.state.reorderableMap[e].props.children},this))},onDrag:function(e){var t=f(this.refs.handle),n=s(e,t,this.props.mode);if(n&&n.node){for(var o=this.state.order.slice(),i=u(r(t),n,this.state.order),a=!1,l=0;l<i.length&&!a;l+=1)i[l]!==o[l]&&(a=!0);a&&this.props.onChange(this.state.order.map(function(e){return this.state.reorderableMap[e].props.children},this)),this.setState({order:i})}},onMouseDown:function(e){var t;this.props.handle&&!c(e.target,this.props.handle)||(t=o(e),this.setState({mouseDownPosition:{x:t.clientX,y:t.clientY}}))},onTouchStart:function(e){e.preventDefault(),this.onMouseDown(e)},onMouseMove:function(e){var t;if(!this.state.activeItem){var n=this.state.mouseDownPosition;if(!n)return;if(t=o(e),Math.abs(t.clientX-n.x)>=5||Math.abs(t.clientY-n.y)>=5){var i=r(e.target),a=e.nativeEvent,s=i.getAttribute("data-reorderable-key");this.props.onDragStart(this.state.reorderableMap[s]),this.activeItem=i;var l=i.parentNode&&i.parentNode.parentNode;this.setState({mouseDownPosition:null,activeItem:s,startPosition:{x:i.offsetLeft-(l&&l.scrollLeft||0),y:i.offsetTop-(l&&l.scrollTop||0)}},function(){this.refs.handle.handleDragStart(a)}.bind(this))}}},render:function(){var e,t=this.state.order.map(function(e){var t=this.state.activeItem?"noselect ":"";this.state.activeItem===e&&(t+="react-reorderable-item-active");var n=this.state.reorderableMap[e].props.className||"";return n&&(t=n+" "+t),d.cloneElement(this.state.reorderableMap[e],{key:"reaorderable-"+e,ref:"active",onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onTouchStart:this.onTouchStart,onTouchMove:this.onMouseMove,className:t})},this);if(this.state.activeItem){var n=this.state.startPosition,r="react-reorderable-handle",o=this.state.reorderableMap[this.state.activeItem].props.className||"";o&&(r=o+" "+r),e=d.cloneElement(this.state.reorderableMap[this.state.activeItem],{className:r}),e=d.createElement(p,{onStop:this.onDragStop,onDrag:this.onDrag,ref:"handle",start:{x:n.x,y:n.y}},e)}return d.createElement("div",{ref:"wrapper"},t,e)}});g.propTypes={onDragStart:v.func,onDrag:v.func,onDrop:v.func,onChange:v.func},g.defaultProps={onDragStart:function(){},onDrag:function(){},onDrop:function(){},onChange:function(){}},t.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"create-react-class":"create-react-class","prop-types":"prop-types"}]},{},[1])(1)});